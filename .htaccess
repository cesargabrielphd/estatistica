# Ativar reescrita de URL
RewriteEngine On

# Redirecionar para HTTPS e www para todos os domínios e subdomínios
RewriteCond %{HTTPS} !=on [OR]
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^(.*)$ https://www.%{HTTP_HOST}/$1 [L,R=301]

# Página de erro 404 personalizada
ErrorDocument 404 /v/errors/404.html

# Configurações de cache para melhorar o desempenho
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType text/html "access plus 1 hour"
  ExpiresByType image/gif "access plus 1 month"
  ExpiresByType image/jpeg "access plus 1 month"
  ExpiresByType image/png "access plus 1 month"
  ExpiresByType text/css "access plus 1 week"
  ExpiresByType text/javascript "access plus 1 week"
  ExpiresByType application/javascript "access plus 1 week"
  ExpiresByType application/pdf "access plus 1 month"
  ExpiresByType application/x-shockwave-flash "access plus 1 month"
  ExpiresByType image/x-icon "access plus 1 year"
</IfModule>

# Prevenir listagem de diretórios
Options -Indexes

# Proteger arquivos sensíveis
<FilesMatch "\.(htaccess|htpasswd|env|ini|log|sh|inc|bak|sql)$">
  Require all denied
</FilesMatch>
